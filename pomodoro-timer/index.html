<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Pomodoro Zen - Jard칤n de Arena | Jorge Luis Risso Patr칩n</title>
    <meta name="description" content="Pomodoro Timer zen con jard칤n de arena virtual. Dise침o minimalista para concentraci칩n y meditaci칩n productiva.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>游븾</text></svg>">
    
    <style>
        /* ==================== Variables CSS - Jard칤n Zen ==================== */
        :root {
            /* Colores zen minimalistas */
            --zen-bg: #f8f9fa;
            --zen-sand: #e9ecef;
            --zen-sand-dark: #dee2e6;
            --zen-sand-light: #f1f3f4;
            
            /* Fondo zen - escena nocturna sakura */
            --night-sky: linear-gradient(180deg, #1a237e 0%, #283593 30%, #3949ab 60%, #5c6bc0 100%);
            --moon-glow: radial-gradient(circle, #ffffff 0%, #f5f5f5 30%, rgba(245, 245, 245, 0.8) 60%, transparent 100%);
            --cherry-pink: #ff4081;
            --cherry-light: #ff80ab;
            --cherry-dark: #f06292;
            --water-reflection: linear-gradient(180deg, #1565c0 0%, #1976d2 50%, #42a5f5 100%);
            --bridge-wood: #5d4e37;
            --bridge-shadow: #3e2723;
            
            /* Arena del jard칤n */
            --sand-base: linear-gradient(135deg, #f1f3f4 0%, #e9ecef 50%, #dee2e6 100%);
            --sand-texture: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 1px,
                rgba(0, 0, 0, 0.02) 1px,
                rgba(0, 0, 0, 0.02) 2px
            );
            
            /* Piedra zen */
            --stone-work: radial-gradient(ellipse at 30% 30%, #6c757d 0%, #495057 100%);
            --stone-break: radial-gradient(ellipse at 30% 30%, #007bff 0%, #0056b3 100%);
            --stone-shadow: rgba(0, 0, 0, 0.2);
            
            /* Surcos en la arena */
            --groove-work: rgba(108, 117, 125, 0.8);
            --groove-break: rgba(0, 123, 255, 0.8);
            
            /* Colores de texto zen */
            --text-primary: #495057;
            --text-secondary: #6c757d;
            --text-muted: #868e96;
            
            /* Elementos de UI */
            --card-bg: rgba(255, 255, 255, 0.95);
            --border-zen: rgba(0, 0, 0, 0.08);
            --shadow-zen: rgba(0, 0, 0, 0.08);
        }

        /* ==================== Reset y Base Zen ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--night-sky);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            position: relative;
            overflow-x: hidden;
        }

        /* Fondo zen - escena nocturna sakura */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                /* Luna llena */
                radial-gradient(circle 80px at 85% 20%, #ffffff 0%, #f5f5f5 40%, rgba(255, 255, 255, 0.3) 70%, transparent 100%),
                /* Resplandor lunar */
                radial-gradient(circle 120px at 85% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 70%),
                /* P칠talos sakura cayendo */
                radial-gradient(circle at 15% 25%, var(--cherry-pink) 2px, transparent 3px),
                radial-gradient(circle at 25% 15%, var(--cherry-light) 1.5px, transparent 2.5px),
                radial-gradient(circle at 35% 35%, var(--cherry-dark) 1px, transparent 2px),
                radial-gradient(circle at 45% 25%, var(--cherry-pink) 2.5px, transparent 3.5px),
                radial-gradient(circle at 55% 45%, var(--cherry-light) 1px, transparent 2px),
                radial-gradient(circle at 65% 35%, var(--cherry-dark) 1.5px, transparent 2.5px),
                radial-gradient(circle at 75% 55%, var(--cherry-pink) 2px, transparent 3px),
                radial-gradient(circle at 85% 45%, var(--cherry-light) 1px, transparent 2px),
                radial-gradient(circle at 95% 65%, var(--cherry-dark) 2px, transparent 3px),
                /* Agua/lago reflectante */
                linear-gradient(180deg, 
                    transparent 0%, 
                    transparent 65%, 
                    var(--water-reflection) 75%, 
                    #0d47a1 100%
                ),
                /* Cielo nocturno */
                var(--night-sky);
            z-index: -3;
            animation: sakuraNight 25s ease-in-out infinite;
        }

        /* Solo cerezo sakura - sin puente */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                /* Tronco del cerezo principal muy sutil */
                radial-gradient(ellipse 8px 40px at 18% 45%, rgba(62, 39, 35, 0.3) 0%, rgba(93, 76, 55, 0.4) 60%, transparent 100%),
                /* Ramas principales del cerezo muy sutiles */
                radial-gradient(ellipse 15px 3px at 25% 35%, rgba(62, 39, 35, 0.2) 0%, transparent 100%),
                radial-gradient(ellipse 12px 2px at 22% 40%, rgba(62, 39, 35, 0.2) 0%, transparent 100%),
                radial-gradient(ellipse 10px 2px at 20% 30%, rgba(62, 39, 35, 0.2) 0%, transparent 100%),
                /* Flores sakura en el 치rbol */
                radial-gradient(ellipse 90px 70px at 20% 25%, var(--cherry-pink) 0%, var(--cherry-light) 30%, rgba(255, 64, 129, 0.3) 60%, transparent 80%),
                radial-gradient(ellipse 110px 85px at 15% 35%, var(--cherry-dark) 0%, var(--cherry-pink) 25%, rgba(240, 98, 146, 0.4) 55%, transparent 75%),
                radial-gradient(ellipse 80px 60px at 30% 20%, var(--cherry-light) 0%, var(--cherry-pink) 35%, rgba(255, 128, 171, 0.3) 65%, transparent 85%),
                radial-gradient(ellipse 100px 80px at 25% 40%, var(--cherry-pink) 0%, var(--cherry-dark) 30%, rgba(255, 64, 129, 0.2) 60%, transparent 80%),
                radial-gradient(ellipse 70px 50px at 12% 30%, var(--cherry-light) 0%, var(--cherry-pink) 40%, rgba(255, 128, 171, 0.2) 70%, transparent 90%);
            z-index: -2;
            opacity: 0.6;
            pointer-events: none;
        }

        /* Elemento adicional para m치s p칠talos */
        .container::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                /* M치s p칠talos sakura flotando */
                radial-gradient(circle at 10% 60%, var(--cherry-light) 1.5px, transparent 2.5px),
                radial-gradient(circle at 20% 70%, var(--cherry-pink) 2px, transparent 3px),
                radial-gradient(circle at 30% 80%, var(--cherry-dark) 1px, transparent 2px),
                radial-gradient(circle at 40% 65%, var(--cherry-light) 2.5px, transparent 3.5px),
                radial-gradient(circle at 50% 75%, var(--cherry-pink) 1px, transparent 2px),
                radial-gradient(circle at 60% 85%, var(--cherry-dark) 1.5px, transparent 2.5px),
                radial-gradient(circle at 70% 70%, var(--cherry-light) 2px, transparent 3px),
                radial-gradient(circle at 80% 90%, var(--cherry-pink) 1px, transparent 2px),
                radial-gradient(circle at 90% 75%, var(--cherry-dark) 2px, transparent 3px);
            z-index: -1;
            opacity: 0.6;
            pointer-events: none;
            animation: sakuraPetals 30s ease-in-out infinite;
        }

        @keyframes sakuraNight {
            0%, 100% {
                transform: translateY(0px) scale(1);
                opacity: 1;
            }
            33% {
                transform: translateY(-8px) scale(1.02);
                opacity: 0.9;
            }
            66% {
                transform: translateY(-3px) scale(0.98);
                opacity: 0.95;
            }
        }

        @keyframes sakuraPetals {
            0% {
                transform: translateX(0px) translateY(0px) rotate(0deg);
                opacity: 0.6;
            }
            25% {
                transform: translateX(-15px) translateY(-10px) rotate(90deg);
                opacity: 0.8;
            }
            50% {
                transform: translateX(-8px) translateY(-20px) rotate(180deg);
                opacity: 0.4;
            }
            75% {
                transform: translateX(-25px) translateY(-15px) rotate(270deg);
                opacity: 0.7;
            }
            100% {
                transform: translateX(-10px) translateY(-5px) rotate(360deg);
                opacity: 0.6;
            }
        }

        /* ==================== Header Zen ==================== */
        .header {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(15px);
            padding: 2rem 1rem;
            text-align: center;
            border-bottom: 1px solid var(--border-zen);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 300;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 300;
        }

        /* ==================== Container Principal ==================== */
        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
        }

        /* ==================== Jard칤n Zen Virtual ==================== */
        .zen-garden-container {
            position: relative;
            margin: 3rem 0;
            padding: 3rem 2rem;
            z-index: 2;
        }

        .zen-garden {
            width: 320px;
            height: 320px;
            position: relative;
            margin: 0 auto;
            background: var(--sand-base);
            background-image: var(--sand-texture);
            border-radius: 50%;
            box-shadow: 
                inset 0 2px 8px rgba(0, 0, 0, 0.06),
                0 8px 32px rgba(0, 0, 0, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-zen);
            overflow: hidden;
            backdrop-filter: blur(5px);
        }

        /* Marco del jard칤n circular */
        .garden-frame {
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            background: linear-gradient(135deg, #8b7355 0%, #6d5a47 100%);
            border-radius: 50%;
            z-index: -1;
        }

        /* Surco principal - circular siguiendo el borde */
        .main-groove {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 280px;
            height: 280px;
            border: 4px solid var(--groove-work);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.5s ease;
            background: transparent;
            box-shadow: 
                inset 0 2px 8px rgba(0, 0, 0, 0.1),
                0 1px 1px rgba(255, 255, 255, 0.3);
            z-index: 3;
        }

        .main-groove.visible {
            opacity: 1;
        }

        /* Surcos secundarios - Yin-Yang */
        .secondary-grooves {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            transition: opacity 1.2s ease;
        }

        .secondary-grooves.visible {
            opacity: 1;
        }

        /* Yin-Yang formado por surcos del rastrillo */
        .yin-yang-groove {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 140px;
            height: 140px;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 3px solid var(--groove-work);
            opacity: 0.9;
            z-index: 5;
        }

        /* C칤rculo divisorio del Yin-Yang */
        .yin-yang-groove::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--groove-work);
            border-radius: 1.5px;
            z-index: 6;
        }

        /* C칤rculo Yang (superior) */
        .yin-yang-groove::after {
            content: '';
            position: absolute;
            top: 25%;
            left: 50%;
            width: 35px;
            height: 35px;
            background: transparent;
            border: 3px solid var(--groove-work);
            border-radius: 50%;
            transform: translateX(-50%);
            z-index: 7;
        }

        /* C칤rculo Yin (inferior) */
        .yin-circle {
            position: absolute;
            bottom: 25%;
            left: 50%;
            width: 35px;
            height: 35px;
            background: var(--groove-work);
            border-radius: 50%;
            transform: translateX(-50%);
            opacity: 0.8;
            z-index: 8;
        }

        /* Puntos centrales del Yin-Yang */
        .yang-dot {
            position: absolute;
            top: 25%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: var(--groove-work);
            border-radius: 50%;
            transform: translateX(-50%);
            z-index: 9;
        }

        .yin-dot {
            position: absolute;
            bottom: 25%;
            left: 50%;
            width: 10px;
            height: 10px;
            background: var(--zen-bg);
            border-radius: 50%;
            transform: translateX(-50%);
            border: 2px solid var(--groove-work);
            z-index: 10;
        }

        /* Surcos radiales que forman el Yin-Yang */
        .radial-groove {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--groove-work) 20%, 
                var(--groove-work) 80%, 
                transparent 100%
            );
            transform-origin: 0 center;
            opacity: 0.6;
            z-index: 4;
        }

        .radial-groove:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg); }
        .radial-groove:nth-child(2) { transform: translate(-50%, -50%) rotate(30deg); }
        .radial-groove:nth-child(3) { transform: translate(-50%, -50%) rotate(60deg); }
        .radial-groove:nth-child(4) { transform: translate(-50%, -50%) rotate(90deg); }
        .radial-groove:nth-child(5) { transform: translate(-50%, -50%) rotate(120deg); }
        .radial-groove:nth-child(6) { transform: translate(-50%, -50%) rotate(150deg); }

        /* Piedra zen - se mueve en c칤rculo */
        .zen-stone {
            position: absolute;
            width: 24px;
            height: 18px;
            background: var(--stone-work);
            border-radius: 50% / 60%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) translateY(-140px);
            box-shadow: 
                0 3px 6px var(--stone-shadow),
                inset 0 1px 3px rgba(255, 255, 255, 0.3);
            transition: transform 1s ease-out, background 0.5s ease;
            z-index: 15;
            transform-origin: 50% 140px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        /* Estados de la piedra */
        .app.break-mode .zen-stone {
            background: var(--stone-break);
        }

        .app.break-mode .yin-yang-groove,
        .app.break-mode .yin-yang-groove::before,
        .app.break-mode .yin-yang-groove::after,
        .app.break-mode .yin-circle,
        .app.break-mode .yang-dot,
        .app.break-mode .yin-dot {
            border-color: var(--groove-break);
            background-color: var(--groove-break);
        }

        .app.break-mode .radial-groove {
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--groove-break) 30%, 
                var(--groove-break) 70%, 
                transparent 100%
            );
        }

        .app.break-mode .main-groove {
            border-color: var(--groove-break);
        }

        /* Part칤culas de arena (efecto sutil) */
        .sand-particle {
            position: absolute;
            width: 1px;
            height: 1px;
            background: var(--text-muted);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            animation: sandDrift 8s linear infinite;
        }

        @keyframes sandDrift {
            0% {
                opacity: 0;
                transform: translateY(0px) translateX(0px);
            }
            20% {
                opacity: 0.3;
            }
            80% {
                opacity: 0.1;
            }
            100% {
                opacity: 0;
                transform: translateY(10px) translateX(15px);
            }
        }

        /* Efecto de transici칩n - borrar surcos */
        .zen-garden.transitioning .main-groove,
        .zen-garden.transitioning .secondary-grooves {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* ==================== Timer Display Zen ==================== */
        .timer-display {
            text-align: center;
            margin: 2rem 0;
            background: rgba(255, 255, 255, 0.93);
            backdrop-filter: blur(15px);
            padding: 2.5rem 2rem;
            border-radius: 20px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-zen);
            position: relative;
            z-index: 2;
        }

        .timer-time {
            font-size: 4rem;
            font-weight: 100;
            color: var(--text-primary);
            margin-bottom: 1rem;
            letter-spacing: 3px;
            font-variant-numeric: tabular-nums;
            font-family: 'Courier New', monospace;
        }

        .timer-label {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 300;
            margin-bottom: 0.5rem;
            letter-spacing: 0.5px;
        }

        .timer-session {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 300;
        }

        .zen-quote {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-zen);
            font-style: italic;
            color: var(--text-muted);
            font-size: 0.85rem;
            line-height: 1.4;
        }

        /* ==================== Controles Zen ==================== */
        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin: 2rem 0;
            position: relative;
            z-index: 2;
        }

        .btn {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(15px);
            border: 1px solid var(--border-zen);
            color: var(--text-primary);
            padding: 1rem 2rem;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 400;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            min-width: 120px;
            letter-spacing: 0.3px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
        }

        .btn:hover {
            border-color: var(--text-secondary);
            transform: translateY(-1px);
            box-shadow: 0 4px 16px var(--shadow-zen);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            border-color: #6c757d;
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #727a81 0%, #525861 100%);
            border-color: #727a81;
        }

        .btn-accent {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            border-color: #007bff;
            color: white;
        }

        .btn-accent:hover {
            background: linear-gradient(135deg, #218bff 0%, #1a6bc3 100%);
            border-color: #218bff;
        }

        /* ==================== Estad칤sticas Zen ==================== */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
            width: 100%;
            max-width: 400px;
            position: relative;
            z-index: 2;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(15px);
            border: 1px solid var(--border-zen);
            padding: 1.5rem 1rem;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
        }

        .stat-number {
            display: block;
            font-size: 1.8rem;
            font-weight: 200;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-family: 'Courier New', monospace;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.8rem;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        /* ==================== Configuraciones Zen ==================== */
        .settings {
            background: rgba(255, 255, 255, 0.93);
            backdrop-filter: blur(15px);
            border: 1px solid var(--border-zen);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            width: 100%;
            max-width: 400px;
            position: relative;
            z-index: 2;
        }

        .settings h3 {
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            font-weight: 400;
            text-align: center;
            letter-spacing: 0.5px;
        }

        .setting-group {
            margin-bottom: 1.5rem;
        }

        .setting-label {
            display: block;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            font-weight: 400;
            font-size: 0.9rem;
        }

        .setting-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-zen);
            border-radius: 8px;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            color: var(--text-primary);
            transition: border-color 0.3s ease;
        }

        .setting-input:focus {
            outline: none;
            border-color: var(--text-secondary);
        }

        /* ==================== Responsive ==================== */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .zen-garden {
                width: 280px;
                height: 280px;
            }
            
            .timer-time {
                font-size: 3rem;
            }
            
            .controls {
                gap: 0.5rem;
            }
            
            .btn {
                padding: 0.75rem 1.5rem;
                min-width: 100px;
            }
        }

        /* ==================== Accesibilidad ==================== */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* ==================== Animaciones de entrada ==================== */
        .zen-garden {
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="app work-mode">
    <!-- Header Zen -->
    <header class="header">
        <h1>Pomodoro Zen</h1>
        <p>Concentraci칩n mindful con jard칤n de arena virtual</p>
    </header>

    <!-- Container Principal -->
    <main class="container">
        <!-- Display del Timer -->
        <div class="timer-display">
            <div class="timer-time" id="timerTime">25:00</div>
            <div class="timer-label" id="timerLabel">Sesi칩n de Trabajo</div>
            <div class="timer-session" id="timerSession">Sesi칩n 1 de 4</div>
            <div class="zen-quote" id="zenQuote">
                "El presente es el 칰nico momento que realmente tenemos"
            </div>
        </div>

        <!-- Jard칤n Zen Virtual -->
        <div class="zen-garden-container">
            <div class="zen-garden" id="zenGarden">
                <!-- Marco del jard칤n -->
                <div class="garden-frame"></div>
                
                <!-- Surco principal -->
                <div class="main-groove" id="mainGroove"></div>
                
                <!-- Surcos secundarios - Yin-Yang -->
                <div class="secondary-grooves" id="secondaryGrooves">
                    <!-- S칤mbolo Yin-Yang principal -->
                    <div class="yin-yang-groove">
                        <div class="yin-circle"></div>
                        <div class="yang-dot"></div>
                        <div class="yin-dot"></div>
                    </div>
                    
                    <!-- Surcos radiales que complementan el Yin-Yang -->
                    <div class="radial-groove"></div>
                    <div class="radial-groove"></div>
                    <div class="radial-groove"></div>
                    <div class="radial-groove"></div>
                    <div class="radial-groove"></div>
                    <div class="radial-groove"></div>
                </div>
                
                <!-- Piedra zen -->
                <div class="zen-stone" id="zenStone"></div>
            </div>
        </div>

        <!-- Controles -->
        <div class="controls">
            <button class="btn btn-primary" id="startBtn">Iniciar</button>
            <button class="btn" id="pauseBtn">Pausar</button>
            <button class="btn" id="resetBtn">Reiniciar</button>
            <button class="btn" id="settingsBtn">Configurar</button>
        </div>

        <!-- Estad칤sticas -->
        <div class="stats">
            <div class="stat-item">
                <span class="stat-number" id="completedSessions">0</span>
                <span class="stat-label">Sesiones</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="totalMinutes">0</span>
                <span class="stat-label">Minutos</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="currentStreak">0</span>
                <span class="stat-label">Racha</span>
            </div>
        </div>

        <!-- Configuraciones -->
        <div class="settings" id="settings" style="display: none;">
            <h3> Configuraci칩n</h3>
            
            <div class="setting-group">
                <label class="setting-label" for="workDuration">Trabajo (minutos):</label>
                <input type="number" class="setting-input" id="workDuration" value="25" min="1" max="60">
            </div>
            
            <div class="setting-group">
                <label class="setting-label" for="shortBreakDuration">Descanso corto (minutos):</label>
                <input type="number" class="setting-input" id="shortBreakDuration" value="5" min="1" max="30">
            </div>
            
            <div class="setting-group">
                <label class="setting-label" for="longBreakDuration">Descanso largo (minutos):</label>
                <input type="number" class="setting-input" id="longBreakDuration" value="15" min="1" max="60">
            </div>
            
            <div class="controls">
                <button class="btn btn-accent" id="saveSettingsBtn">Guardar</button>
                <button class="btn" id="cancelSettingsBtn">Cancelar</button>
            </div>
        </div>
    </main>

    <!-- Screen reader para accesibilidad -->
    <div class="sr-only" aria-live="polite" id="timerAnnouncement"></div>

    <script>
        // ==================== Variables del Timer ==================== 
        let timer = null;
        let timeLeft = 0;
        let isRunning = false;
        let currentMode = 'work'; // 'work', 'shortBreak', 'longBreak'
        let sessionCount = 0;
        let completedSessions = 0;
        let totalMinutes = 0;
        let currentStreak = 0;

        // Configuraciones por defecto
        let settings = {
            workDuration: 25,
            shortBreakDuration: 5,
            longBreakDuration: 15
        };

        // Frases zen para meditaci칩n
        const zenQuotes = [
            "El presente es el 칰nico momento que realmente tenemos",
            "La concentraci칩n es la ra칤z de todas las capacidades",
            "En la quietud, encuentra la claridad",
            "Cada respiraci칩n es una nueva oportunidad",
            "La paciencia es la clave de la sabidur칤a",
            "En el silencio, escucha tu prop칩sito",
            "La simplicidad revela la belleza",
            "Fluye como el agua, persiste como la piedra",
            "En la calma, encuentra tu fuerza",
            "El camino se hace al caminar mindfully"
        ];

        // ==================== Elementos DOM ==================== 
        const elements = {
            timerTime: document.getElementById('timerTime'),
            timerLabel: document.getElementById('timerLabel'),
            timerSession: document.getElementById('timerSession'),
            zenQuote: document.getElementById('zenQuote'),
            startBtn: document.getElementById('startBtn'),
            pauseBtn: document.getElementById('pauseBtn'),
            resetBtn: document.getElementById('resetBtn'),
            settingsBtn: document.getElementById('settingsBtn'),
            settingsPanel: document.getElementById('settings'),
            saveSettingsBtn: document.getElementById('saveSettingsBtn'),
            cancelSettingsBtn: document.getElementById('cancelSettingsBtn'),
            completedSessionsEl: document.getElementById('completedSessions'),
            totalMinutesEl: document.getElementById('totalMinutes'),
            currentStreakEl: document.getElementById('currentStreak'),
            zenGarden: document.getElementById('zenGarden'),
            zenStone: document.getElementById('zenStone'),
            mainGroove: document.getElementById('mainGroove'),
            secondaryGrooves: document.getElementById('secondaryGrooves'),
            app: document.body,
            announcement: document.getElementById('timerAnnouncement')
        };

        // ==================== Funciones del Jard칤n Zen ==================== 
        function updateStonePosition() {
            const totalTime = currentMode === 'work' ? settings.workDuration * 60 : 
                             currentMode === 'shortBreak' ? settings.shortBreakDuration * 60 :
                             settings.longBreakDuration * 60;
            
            const progress = (totalTime - timeLeft) / totalTime;
            
            // Mover la piedra en c칤rculo (360 grados)
            const angle = progress * 360;
            elements.zenStone.style.transform = `translate(-50%, -50%) translateY(-140px) rotate(${angle}deg)`;
        }

        function createSandParticles() {
            // Crear part칤culas sutiles de arena
            if (!isRunning) return;
            
            for (let i = 0; i < 2; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'sand-particle';
                    particle.style.left = `${20 + Math.random() * 60}%`;
                    particle.style.top = `${40 + Math.random() * 20}%`;
                    elements.zenGarden.appendChild(particle);
                    
                    setTimeout(() => particle.remove(), 8000);
                }, i * 1000);
            }
        }

        function showGrooves() {
            elements.mainGroove.classList.add('visible');
            setTimeout(() => {
                elements.secondaryGrooves.classList.add('visible');
            }, 300);
        }

        function hideGrooves() {
            elements.secondaryGrooves.classList.remove('visible');
            setTimeout(() => {
                elements.mainGroove.classList.remove('visible');
            }, 200);
        }

        function transitionGarden() {
            // Efecto de "borrar" y "redibujar" surcos
            elements.zenGarden.classList.add('transitioning');
            
            setTimeout(() => {
                hideGrooves();
                
                setTimeout(() => {
                    elements.zenGarden.classList.remove('transitioning');
                    showGrooves();
                    
                    // Resetear posici칩n de piedra en c칤rculo
                    elements.zenStone.style.transform = 'translate(-50%, -50%) translateY(-140px) rotate(0deg)';
                }, 500);
            }, 200);
        }

        function updateZenQuote() {
            const randomQuote = zenQuotes[Math.floor(Math.random() * zenQuotes.length)];
            elements.zenQuote.textContent = randomQuote;
        }

        function playZenChime() {
            // Sonido zen sutil - campana tibetana
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            
            // Crear un tono de campana tibetana
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            const filterNode = audioContext.createBiquadFilter();
            
            oscillator.connect(filterNode);
            filterNode.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Frecuencia de campana tibetana (Mi bemol)
            oscillator.frequency.setValueAtTime(311.13, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(155.56, audioContext.currentTime + 2);
            
            // Filtro para sonido m치s suave
            filterNode.type = 'lowpass';
            filterNode.frequency.setValueAtTime(800, audioContext.currentTime);
            
            gainNode.gain.setValueAtTime(0.08, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 2);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 2);
        }

        // ==================== Funciones del Timer ==================== 
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            elements.timerTime.textContent = formatTime(timeLeft);
            
            // Actualizar etiquetas seg칰n el modo
            const labels = {
                work: 'Sesi칩n de Trabajo',
                shortBreak: 'Descanso Corto',
                longBreak: 'Descanso Largo'
            };
            
            elements.timerLabel.textContent = labels[currentMode];
            elements.timerSession.textContent = `Sesi칩n ${sessionCount + 1} de 4`;
            
            // Actualizar modo visual
            elements.app.className = elements.app.className.replace(/work-mode|break-mode/g, '');
            elements.app.classList.add(currentMode === 'work' ? 'work-mode' : 'break-mode');
            
            // Actualizar posici칩n de piedra
            updateStonePosition();
        }

        function updateStats() {
            elements.completedSessionsEl.textContent = completedSessions;
            elements.totalMinutesEl.textContent = totalMinutes;
            elements.currentStreakEl.textContent = currentStreak;
        }

        function showNotification(message) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(message, {
                    icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">游븾</text></svg>',
                    tag: 'pomodoro-zen'
                });
            }
            
            // Anuncio para lectores de pantalla
            elements.announcement.textContent = message;
        }

        function startTimer() {
            if (isRunning) return;
            
            isRunning = true;
            elements.startBtn.textContent = 'Meditando...';
            elements.startBtn.disabled = true;
            
            // Mostrar surcos si es el inicio
            if (timeLeft === (currentMode === 'work' ? settings.workDuration * 60 : 
                             currentMode === 'shortBreak' ? settings.shortBreakDuration * 60 :
                             settings.longBreakDuration * 60)) {
                showGrooves();
            }
            
            timer = setInterval(() => {
                timeLeft--;
                updateDisplay();
                
                // Crear part칤culas ocasionalmente
                if (timeLeft % 30 === 0) {
                    createSandParticles();
                }
                
                if (timeLeft <= 0) {
                    completeSession();
                }
            }, 1000);
            
            updateDisplay();
        }

        function pauseTimer() {
            if (!isRunning) return;
            
            isRunning = false;
            clearInterval(timer);
            elements.startBtn.textContent = 'Continuar';
            elements.startBtn.disabled = false;
        }

        function resetTimer() {
            isRunning = false;
            clearInterval(timer);
            
            // Resetear a modo trabajo
            currentMode = 'work';
            timeLeft = settings.workDuration * 60;
            
            elements.startBtn.textContent = 'Iniciar';
            elements.startBtn.disabled = false;
            
            // Ocultar surcos y resetear piedra
            hideGrooves();
            elements.zenStone.style.transform = 'translate(-50%, -50%) translateY(-140px) rotate(0deg)';
            
            updateDisplay();
            updateZenQuote();
        }

        function completeSession() {
            isRunning = false;
            clearInterval(timer);
            
            playZenChime();
            transitionGarden();
            updateZenQuote();
            
            if (currentMode === 'work') {
                completedSessions++;
                sessionCount = (sessionCount + 1) % 4;
                totalMinutes += settings.workDuration;
                currentStreak++;
                
                // Determinar tipo de descanso
                currentMode = sessionCount === 0 ? 'longBreak' : 'shortBreak';
                timeLeft = currentMode === 'longBreak' ? settings.longBreakDuration * 60 : settings.shortBreakDuration * 60;
                
                showNotification(' 춰Sesi칩n completada! La piedra llega al final del surco.');
            } else {
                // Completar descanso
                currentMode = 'work';
                timeLeft = settings.workDuration * 60;
                
                showNotification(' 춰Descanso terminado! Nuevo surco, nueva concentraci칩n.');
            }
            
            elements.startBtn.textContent = 'Iniciar';
            elements.startBtn.disabled = false;
            
            updateDisplay();
            updateStats();
        }

        // ==================== Configuraciones ==================== 
        function showSettings() {
            elements.settingsPanel.style.display = 'block';
            
            // Cargar valores actuales
            document.getElementById('workDuration').value = settings.workDuration;
            document.getElementById('shortBreakDuration').value = settings.shortBreakDuration;
            document.getElementById('longBreakDuration').value = settings.longBreakDuration;
        }

        function hideSettings() {
            elements.settingsPanel.style.display = 'none';
        }

        function saveSettings() {
            settings.workDuration = parseInt(document.getElementById('workDuration').value);
            settings.shortBreakDuration = parseInt(document.getElementById('shortBreakDuration').value);
            settings.longBreakDuration = parseInt(document.getElementById('longBreakDuration').value);
            
            // Guardar en localStorage
            localStorage.setItem('pomodoroZenSettings', JSON.stringify(settings));
            
            // Resetear timer con nueva configuraci칩n
            resetTimer();
            hideSettings();
        }

        function loadSettings() {
            const saved = localStorage.getItem('pomodoroZenSettings');
            if (saved) {
                settings = JSON.parse(saved);
            }
            
            const savedStats = localStorage.getItem('pomodoroZenStats');
            if (savedStats) {
                const stats = JSON.parse(savedStats);
                completedSessions = stats.completedSessions || 0;
                totalMinutes = stats.totalMinutes || 0;
                currentStreak = stats.currentStreak || 0;
            }
        }

        function saveStats() {
            const stats = {
                completedSessions,
                totalMinutes,
                currentStreak
            };
            localStorage.setItem('pomodoroZenStats', JSON.stringify(stats));
        }

        // ==================== Event Listeners ==================== 
        elements.startBtn.addEventListener('click', startTimer);
        elements.pauseBtn.addEventListener('click', pauseTimer);
        elements.resetBtn.addEventListener('click', resetTimer);
        elements.settingsBtn.addEventListener('click', showSettings);
        elements.saveSettingsBtn.addEventListener('click', saveSettings);
        elements.cancelSettingsBtn.addEventListener('click', hideSettings);

        // Pedir permisos de notificaci칩n
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }

        // Guardar estad칤sticas autom치ticamente
        window.addEventListener('beforeunload', saveStats);

        // Prevenir que la p치gina se cierre accidentalmente durante sesi칩n activa
        window.addEventListener('beforeunload', (e) => {
            if (isRunning) {
                e.preventDefault();
                e.returnValue = '쮼st치s seguro de que quieres salir? La meditaci칩n se interrumpir치.';
            }
        });

        // ==================== Inicializaci칩n ==================== 
        loadSettings();
        timeLeft = settings.workDuration * 60;
        updateDisplay();
        updateStats();
        updateZenQuote();

        // Crear algunas part칤culas iniciales suaves
        setTimeout(() => {
            createSandParticles();
        }, 2000);
    </script>
</body>
</html>